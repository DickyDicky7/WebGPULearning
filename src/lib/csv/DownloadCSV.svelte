<!--<script lang="ts"> import { generateCsvInWorker, downloadBlob } from "./csvWorkerWrapper"; const rows: { id: number; name: string; email: string; }[] = Array.from({ length: 100000 }, (_, i) => ({ id: i + 1, name: `User ${i + 1}`, email: `user${i + 1}@example.com`, })); let generating: boolean = $state(false); async function onDownload(): Promise<void> { generating = true; const csv: string = await generateCsvInWorker({ rows, headers: ["id", "name", "email"], }); downloadBlob("large_dataset.csv", csv); generating = false; } </script> <button onclick={onDownload} disabled={generating}> {generating ? "Generating CSV…" : "Download CSV (Worker)"} </button>-->
    <script lang="ts"> import { generateCsvInWorker, downloadBlob } from "./csvWorkerWrapper"; const rows: { id: number; name: string; email: string; }[] = Array.from({ length: 100000 }, (_, i) => ({ id: i + 1, name: `User ${i + 1}`, email: `user${i + 1}@example.com`, })); let generating: boolean = $state(false); async function onDownload(): Promise<void> { generating = true; const csv: string = await generateCsvInWorker({ rows, headers: ["id", "name", "email"], }); downloadBlob("large_dataset.csv", csv); generating = false; } </script> <button onclick={onDownload} disabled={generating}> {generating ? "Generating CSV…" : "Download CSV (Worker)"} </button>
<!--<script lang="ts"> import { generateCsvInWorker, downloadBlob } from "./csvWorkerWrapper"; const rows: { id: number; name: string; email: string; }[] = Array.from({ length: 100000 }, (_, i) => ({ id: i + 1, name: `User ${i + 1}`, email: `user${i + 1}@example.com`, })); let generating: boolean = $state(false); async function onDownload(): Promise<void> { generating = true; const csv: string = await generateCsvInWorker({ rows, headers: ["id", "name", "email"], }); downloadBlob("large_dataset.csv", csv); generating = false; } </script> <button onclick={onDownload} disabled={generating}> {generating ? "Generating CSV…" : "Download CSV (Worker)"} </button>-->
